import{a as S,b as A,c as w,e as D}from"./chunk-M334WHHZ.js";import{B as g,C as u,D as C,E as _,F as f,G as o,H as t,M,O as x,Q as a,R as O,S as c,U as P,V as h,W as b,ca as y,ea as v,j as m,ja as E,n as d,t as s,w as p}from"./chunk-6NFFM5TD.js";var T=(e,n)=>n.nom;function k(e,n){if(e&1&&(o(0,"li")(1,"div",7)(2,"strong"),a(3),t(),o(4,"span"),a(5),t(),o(6,"small"),a(7),t()()()),e&2){let i=n.$implicit;s(3),O(i.nom),s(2),c("Stock : ",i.produits.length," reliques"),s(2),c("Ma\xEEtre de guilde : ",i.createur)}}function q(e,n){if(e&1&&(o(0,"ul"),C(1,k,8,3,"li",null,T),t()),e&2){let i=x();s(),_(i.sessions())}}function z(e,n){e&1&&(o(0,"p",6),a(1,"Le registre est vide pour le moment..."),t())}var I=class e{http=m(v);api=m(E);nom=d("");sessions=d([]);ngOnInit(){this.chargerSessions()}chargerSessions(){this.http.get("http://localhost:3000/sessions").subscribe(n=>{this.sessions.set(n)})}creer(){let n=this.api.user();n&&n.email&&this.nom()&&this.http.post("http://localhost:3000/sessions",{nom:this.nom(),createur:n.email}).subscribe(()=>{this.nom.set(""),this.chargerSessions()})}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=p({type:e,selectors:[["app-admin"]],decls:13,vars:3,consts:[[1,"admin-layout"],[1,"card","admin-card"],[1,"input-group"],["type","text","placeholder","Nom de la nouvelle qu\xEAte...",3,"ngModelChange","ngModel"],[3,"click","disabled"],[1,"card","admin-card","sessions-list"],[2,"text-align","center","font-style","italic"],[1,"session-info"]],template:function(i,l){i&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),a(3,"\u{1F4DC} Registre du Ma\xEEtre"),t(),o(4,"div",2)(5,"input",3),b("ngModelChange",function(r){return h(l.nom,r)||(l.nom=r),r}),t(),o(6,"button",4),M("click",function(){return l.creer()}),a(7,"Publier la qu\xEAte"),t()()(),o(8,"div",5)(9,"h3"),a(10,"Qu\xEAtes en cours"),t(),g(11,q,3,0,"ul")(12,z,2,0,"p",6),t()()),i&2&&(s(5),P("ngModel",l.nom),s(),f("disabled",!l.nom()),s(5),u(l.sessions().length>0?11:12))},dependencies:[y,D,S,A,w],styles:[".admin-layout[_ngcontent-%COMP%]{max-width:900px;margin:40px auto;padding:0 20px;display:flex;flex-direction:column;gap:30px}.admin-card[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.admin-card[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;gap:15px;margin-top:20px}.admin-card[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.admin-card[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap}.sessions-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:2px solid rgba(139,69,19,.2);padding-bottom:10px;margin-bottom:20px}.sessions-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sessions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background:#0000000d;margin-bottom:10px;padding:15px;border-radius:4px;border-left:4px solid var(--gold);display:flex;justify-content:space-between;align-items:center}.sessions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sessions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#3e2723;font-size:1.1rem}.sessions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#8d6e63;font-size:.85rem;font-weight:700}.sessions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .session-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#795548;font-style:italic}"]})};export{I as AdminComponent};
